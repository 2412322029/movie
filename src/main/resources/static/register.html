<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>用户注册</title>
</head>
<body>
<div id="app">
    <h4>用户注册</h4>
    <span style="color: red">
            {{errmsg}}
        </span>
    <form action="" method="post">
        <label>
            <span class="label-text">账号</span>
            <input type="text" name="username" v-model="user.username">
        </label>
        <br>
        <label>
            <span class="label-text">密码</span>
            <input type="password" name="password" v-model="user.password">
        </label>
        <br>
        <label>
            <span class="label-text">真名</span>
            <input type="text" name="password" v-model="user.truename">
        </label>
        <br>
        <label>
            <span class="label-text">性别</span>
            <label>男
                <input type="radio" name="usersex" value="man" v-model="user.usersex">
            </label>
            <label>女
                <input type="radio" name="usersex" value="woman" v-model="user.usersex">
        </label>
        </label>
        <br>
        <label>
            <span class="label-text">电话</span>
            <input type="tel" name="tel" v-model="user.usertel">
        </label>

        <br>
        <button type="button" @click="login">登录</button>
    </form>
</div>

<script src="js/vue.js"></script>
<script src="js/axios.min.js"></script>
<script>
    const app = new Vue({
        el: "#app",
        data: {
            errmsg: "",
            user: {
            }
        },
        methods: {
            login() {
                axios.post("http://localhost:8080/movie/user/register"
                    , this.user).then((res) => {
                        console.info(res.data);
                        if (res.data !== "true") {
                            alert("成功")
                            location.href = "index.html"
                        } else {
                            this.errmsg = "注册失败"
                        }
                    }
                )
            }
        }
    })
</script>
</body>
</html>