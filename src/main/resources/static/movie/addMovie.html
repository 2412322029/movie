<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>添加影厅信息</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../font-awesome-4.7.0/css/font-awesome.min.css">

    <script src="../js/jquery-3.3.1.js"></script>
    <script src="../js/vue.js"></script>
    <script src="../js/axios.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/bootstrap.bundle.js"></script>


</head>


<body>

    <div id="app">
        <div class="container">
            <div class="page-header">
                <h2 class="text-center text-primary">添加影片</h2>
            </div>
            <div class="form-group row">
                <div class="m-2 row col-10">
                    <label for="name" class="col-2 col-form-label text-right">
                        影片名称
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="name" name="name" class="form-control" v-model="movie.name">
                    </div>
                </div>

                <div class="m-2 row col-10">
                    <label for="description" class="col-2 col-form-label text-right">
                        影片描述
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="description" name="description" class="form-control"
                            v-model="movie.description">
                    </div>
                </div>

                <div class="m-2 row col-10">
                    <label for="director" class="col-2 col-form-label text-right">
                        导演
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="director" name="director" class="form-control" v-model="movie.director">
                    </div>
                </div>

                <div class="m-2 row col-10">
                    <label for="writer" class="col-2 col-form-label text-right">
                        作者
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="writer" name="writer" class="form-control" v-model="movie.writer">
                    </div>
                </div>

                <div class="m-2 row col-10">
                    <label for="actor" class="col-2 col-form-label text-right">
                        演员
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="actor" name="actor" class="form-control" v-model="movie.actor">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="type" class="col-2 col-form-label text-right">
                        类型
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="type" name="type" class="form-control" v-model="movie.type">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="area" class="col-2 col-form-label text-right">
                        地区
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="area" name="area" class="form-control" v-model="movie.area">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="language" class="col-2 col-form-label text-right">
                        语言
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="language" name="language" class="form-control" v-model="movie.language">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="showtime" class="col-2 col-form-label text-right">
                        上映时间
                    </label>
                    <div class="col-10 ">
                        <input type="date" id="showtime" name="showtime" class="form-control" v-model="movie.showtime">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="length" class="col-2 col-form-label text-right">
                        长度
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="length" name="length" class="form-control" v-model="movie.length">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="grade" class="col-2 col-form-label text-right">
                        分数{{movie.grade}}
                    </label>
                    <div class="col-10 ">
                        <input type="range" min="0" max="5" step="0.5" id="grade" name="grade" class="form-control"
                            v-model="movie.grade">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="status" class="col-2 col-form-label text-right">
                        状态
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="status" name="status" class="form-control" v-model="movie.status">
                    </div>
                </div>
                <div class="m-2 row col-10">
                    <label for="link" class="col-2 col-form-label text-right">
                        链接
                    </label>
                    <div class="col-10 ">
                        <input type="text" id="link" name="link" class="form-control" v-model="movie.link">
                    </div>
                </div>
                <div class="col-3 offset-2">
                    <button type="button" class="form-control btn btn-primary" @click="add">
                        添加
                    </button>
                </div>
            </div>

        </div>
    </div>
    </div>
    <script>
        const app = new Vue({
            el: "#app",
            data: {
                movie: {
                },
                errmsg: "",
                ds: [
                    ["影片名称", "name"],
                    ["影片描述", "description"],
                    ["导演", "director"],
                    ["作者", "writer"],
                    ["演员", "actor"],
                    ["类型", "type"],
                    ["地区", "area"],
                    ["语言", "language"],
                    ["上映时间", "showtime"],
                    ["长度", "length"],
                    [" 分数", "grade"],
                    ["状态", "status"],
                    [" 链接", "link"],
                ]
            },
            computed: {

            },
            methods: {
                add() {

                    if (this.movie.name == undefined | this.movie.description == undefined) {
                        alert("不能为空")
                    } else {
                        axios.post("http://localhost:8080/movie/movie/addMovie"
                            , this.movie).then((res) => {
                                console.info(res.data);
                                if (res.data.success) {
                                    this.errmsg = res.data.message;
                                } else {
                                    this.errmsg = res.data.message;
                                }
                            }
                            )
                    }

                }
            }
        });

    </script>
</body>

</html>